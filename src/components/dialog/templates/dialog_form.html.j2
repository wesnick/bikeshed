<form id="dialog-form"
      hx-ext="form-json"
      hx-post="/dialog/dialog-submit"
      hx-target="#messages-container"
      hx-on::after-request="this.reset();">
  <div class="mb-3">
    <label class="form-label" for="editor">Input</label> {# Changed "Magic" to "Input" for clarity #}
    <textarea id="editor"
              name="text"
              class="form-control"
              rows="5"
              placeholder="Enter your message or instructions..."></textarea> {# Updated placeholder #}
    <button type="button" id="editor-button" class="btn btn-sm btn-outline-secondary mt-1">View raw</button>
  </div>

  <div class="row g-2 align-items-center mb-3">
    <div class="col-auto">
      <label class="form-label mb-0" for="model">Model</label> {# mb-0 because it's vertically aligned with select #}
    </div>
    <div class="col-md-4">
      <select id="model" name="model" class="form-select form-select-sm">
        <option value="faker" selected="selected">Faker</option>
        {% for model in available_models %}<option value="{{ model.id }}">{{ model.name }}</option>{% endfor %}
      </select>
    </div>
    <div class="col-md-auto ms-auto">
      <div class="d-flex gap-2">
        <button type="submit" name="send_button" class="btn btn-primary btn-sm">
          <i class="fas fa-paper-plane me-1"></i>
          <span>Generate Completion</span>
        </button>
        {% if dialog.status == 'waiting_for_input' %}
          <button type="submit" name="continue_button" class="btn btn-success btn-sm"> {# Changed to btn-success for differentiation #}
            <i class="fas fa-arrow-right me-1"></i> {# Changed icon for "Continue" #}
            <span>Continue Workflow</span>
          </button>
        {% endif %}
      </div>
    </div>
  </div>
  <input type="hidden" name="dialog_id" value="{{ dialog.id }}">
</form>
